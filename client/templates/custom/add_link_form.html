
<template name="AddLink">
    <style>
        ul {
            list-style-type: circle;    
            padding-left: 40px;
            display: none;
        }
    </style>    

    <!-- Modal for new document -->
    <div id="add-link-form" class="modal fade">
        
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Add Link</h4>
                </div>
                <div class="modal-body" style="width: 100%; overflow: hidden;">
                    <form id="radioList" class="form-horizontal" role="form" >
                        
                        <div style="width: 70%; float: left;" class="form-group">
                   
                            {{#each associations}}
                                <div class="col-lg-10 association" name="{{name}}" className="{{class}}" line_direct="{{type}}" attributes="{{attributes}}">
                                    <label class="label-radio">
                                        <input type="radio" name="stack-radio" value="{{name}}">
                                        <span class="custom-radio"></span>
                                        {{name}} {{type}} {{class}} 
                                        
                                        <ul id = "{{name}}">
                                            Class attributes:<br>
                                            {{#each attributes}}                                        
                                                <li> {{this}} </li>                                           
                                            {{/each}}
                                        </ul>

                                    </label>
                                </div>
                            {{/each}}

                        </div>
                         <!-- <div class="form-group">
                        <div class="col-sm-10">
                        <input id="fileList" type='file' multiple/>
                        </div>
                        </div> -->
                    </form> 

                        <div style="width: 30%; float: right;" class="form-group">
                            <details>
                                <summary>Advanced Link Settings</summary>
                                <form id="radioListLink" class="form-horizontal" role="form">
                                            Please choose link type:<br>
                                            <input type="radio" name="link-type-radio" value="REQUIRED">
                                            <span class="custom-radio"></span>
                                            Requered link<br>

                                            <input type="radio" name="link-type-radio" value="NOT">
                                            <span class="custom-radio"></span>
                                            Negation link<br>

                                            <input type="radio" name="link-type-radio" value="OPTIONAL">
                                            <span class="custom-radio"></span>
                                            Optional link<br>


                                </form>
                            </details>
                        </div>


                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button id="ok-add-link" type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->

    </div><!-- /.modal -->
    
    <script>
            //Show attributes for class if option is checked
            var radioListener = document.getElementById("radioList"); //.elements["stack-radio"];
            radioListener.addEventListener("click", showAttributes)

            function showAttributes(){                
                var ulElements = document.getElementsByTagName("ul");
                _.each(ulElements, function(e){
                    e.style.display = 'none';
                })

                var checkedName = $('input[name=stack-radio]').filter(':checked').val();
                ulElements = document.getElementById(checkedName);               
                if (ulElements) {
                    ulElements.style.display = 'block';
                }
            }
    </script>
</template>